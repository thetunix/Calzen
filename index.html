<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calzen Flow Ultimate</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app-container">
<header>
        <div class="date-nav">
            <button class="icon-btn" onclick="changeDate(-1)">‚óÄ</button>
            <h1 id="dateDisplay">–°–µ–≥–æ–¥–Ω—è</h1>
            <button class="icon-btn" onclick="changeDate(1)">‚ñ∂</button>
        </div>
        
        <div class="header-controls">
            <div class="streak-badge" title="–î–Ω–µ–π –ø–æ–¥—Ä—è–¥">üî• <span id="streakVal">0</span></div>
            <button class="icon-btn" onclick="toggleTrophies()" title="–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è">üèÜ</button>
            <button class="icon-btn" onclick="toggleSettings()" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
        </div>
    </header>

    <div id="trophyPanel" class="modal-panel">
        <div class="settings-header">üèÜ –¢–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
        <div id="trophyList" class="trophy-grid">
            </div>
    </div>

    <div class="quick-actions">
        <div class="qa-chip water" onclick="addWater()">üíß <span id="waterCount">0</span>/2.5–ª</div>
        <div class="qa-chip" onclick="quickAdd('–ö–æ—Ñ–µ', 5, 0, 0, 1)">‚òï –ö–æ—Ñ–µ</div>
        <div class="qa-chip" onclick="quickAdd('–Ø–±–ª–æ–∫–æ', 52, 0, 0, 14)">üçè –Ø–±–ª–æ–∫–æ</div>
        <div class="qa-chip" onclick="quickAdd('–Ø–π—Ü–æ', 70, 6, 5, 0)">ü•ö –Ø–π—Ü–æ</div>
        <div class="qa-chip" onclick="quickAdd('–¢–≤–æ—Ä–æ–≥ 5%', 121, 16, 5, 3)">ü•£ –¢–≤–æ—Ä–æ–≥</div>
    </div>

    <div id="settingsPanel" class="modal-panel">
        <div class="settings-header">üë§ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã</div>
        <div class="settings-grid">
            <div><label>–í–µ—Å (–∫–≥)</label><input type="number" id="curWeight" class="inp-st" placeholder="80"></div>
            <div><label class="blue-text">–¶–µ–ª—å (–∫–≥)</label><input type="number" id="targetWeight" class="inp-st highlight-input" placeholder="70"></div>
            <div><label>–†–æ—Å—Ç</label><input type="number" id="height" class="inp-st" placeholder="175"></div>
            <div><label>–í–æ–∑—Ä–∞—Å—Ç</label><input type="number" id="age" class="inp-st" value="25"></div>
        </div>
        
        <div class="settings-grid">
            <div><label>–ü–æ–ª</label><select id="gender" class="inp-st"><option value="male">–ú</option><option value="female">–ñ</option></select></div>
            <div><label>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</label><select id="activity" class="inp-st"><option value="1.2">–°–∏–¥—è—á–∞—è</option><option value="1.375">–õ–µ–≥–∫–∞—è</option><option value="1.55">–°—Ä–µ–¥–Ω—è—è</option></select></div>
        </div>

        <label class="green-text">üí™ –†–µ–∂–∏–º –±–µ–ª–∫–∞</label>
        <select id="proteinMode" class="inp-st">
            <option value="1.5">1.5 - –ù–æ—Ä–º–∞</option>
            <option value="1.8">1.8 - –ú—ã—à—Ü—ã</option>
            <option value="2.2">2.2 - –ü–æ—Ö—É–¥–µ–Ω–∏–µ</option>
        </select>
        
        <button class="btn-calc" onclick="autoCalculate()">‚ö° –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –Ω–æ—Ä–º—ã</button>

        <div class="divider"></div>

        <div class="settings-header">üéØ –¶–µ–ª–∏ (–ë–ñ–£)</div>
        <div class="settings-grid">
            <div><label>–ö–∫–∞–ª</label><input type="number" id="goalKcal" class="inp-st"></div>
            <div><label>–ë–µ–ª–∫–∏</label><input type="number" id="goalProt" class="inp-st"></div>
            <div><label>–ñ–∏—Ä—ã</label><input type="number" id="goalFat" class="inp-st"></div>
            <div><label>–£–≥–ª–∏</label><input type="number" id="goalCarb" class="inp-st"></div>
        </div>

        <label style="margin-top:15px">OpenRouter API Key</label>
        <input type="password" id="apiKey" class="inp-st" placeholder="sk-or-..." onchange="saveData()">
        
        <button class="icon-btn red-btn" onclick="resetDay()">üóë –û—á–∏—Å—Ç–∏—Ç—å –¥–µ–Ω—å</button>
    </div>

    <div class="dashboard">
        <button class="ai-advisor-btn" onclick="askAdvice()">üí° –°–æ–≤–µ—Ç AI</button>
        
        <div class="gauge-container">
            <svg viewBox="0 0 200 100">
                <path d="M 20 100 A 80 80 0 0 1 180 100" class="bg" />
                <path d="M 20 100 A 80 80 0 0 1 180 100" class="meter kcal" id="arcKcal" stroke-dasharray="251" stroke-dashoffset="251" />
            </svg>
            <div class="gauge-val">
                <h2 id="txtLeft">0</h2>
                <p>–∫–∫–∞–ª –æ—Å—Ç–∞–ª–æ—Å—å</p>
            </div>
        </div>

        <div class="macros-row">
            <div class="macro-item">
                <div class="macro-gauge">
                    <svg viewBox="0 0 100 50"><path d="M 10 50 A 40 40 0 0 1 90 50" class="bg" /><path d="M 10 50 A 40 40 0 0 1 90 50" class="meter prot" id="arcProt" stroke-dasharray="125" stroke-dashoffset="125" /></svg>
                    <div class="macro-text" id="txtProt">0</div>
                </div>
                <div class="macro-label">–ë–µ–ª–∫–∏</div>
            </div>
            <div class="macro-item">
                <div class="macro-gauge">
                    <svg viewBox="0 0 100 50"><path d="M 10 50 A 40 40 0 0 1 90 50" class="bg" /><path d="M 10 50 A 40 40 0 0 1 90 50" class="meter fat" id="arcFat" stroke-dasharray="125" stroke-dashoffset="125" /></svg>
                    <div class="macro-text" id="txtFat">0</div>
                </div>
                <div class="macro-label">–ñ–∏—Ä—ã</div>
            </div>
            <div class="macro-item">
                <div class="macro-gauge">
                    <svg viewBox="0 0 100 50"><path d="M 10 50 A 40 40 0 0 1 90 50" class="bg" /><path d="M 10 50 A 40 40 0 0 1 90 50" class="meter carb" id="arcCarb" stroke-dasharray="125" stroke-dashoffset="125" /></svg>
                    <div class="macro-text" id="txtCarb">0</div>
                </div>
                <div class="macro-label">–£–≥–ª–∏</div>
            </div>
        </div>
    </div>

    <ul class="food-list" id="foodList"></ul>
</div>

<div class="bottom-panel">
    <div class="app-container" style="margin: 0 auto;">
        
        <div class="fav-scroller" id="favList"></div>

        <div class="input-group">
            <input type="text" id="inName" placeholder="–ü—Ä–æ–¥—É–∫—Ç...">
            <button class="action-btn ai-btn" onclick="askAI()" title="–£–∑–Ω–∞—Ç—å –ë–ñ–£">‚ú®</button>
            <button class="action-btn save-btn" onclick="saveToFav()" title="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">‚≠ê</button>
        </div>
        <div class="input-group">
            <input type="number" id="inKcal" placeholder="–ö–∫–∞–ª">
            <input type="number" id="inProt" placeholder="–ë">
            <input type="number" id="inFat" placeholder="–ñ">
            <input type="number" id="inCarb" placeholder="–£">
        </div>
        <button class="add-btn" onclick="addFood()">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
</div>

<script src="script.js"></script>
</body>

</html>
